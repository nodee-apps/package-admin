<div class="row" ng-init="getConfig('mailers', item)">
    <form class="form-horizontal form-condensed margin-bottom-lg" novalidate>
        <fieldset>
            <div class="form-group">
                <label class="col-sm-3 control-label">{{::'Mailer'|translate}}</label>
                <div class="col-sm-7">
                    <select class="form-control input-sm" 
                            ng-model="item.config.mailer" 
                            ng-options="key as key for (key, value) in item.$mailers">
                        <option value="">({{::'not set'|translate}})</option>
                    </select>
                </div>
            </div>
            
            <div class="form-group">
                <label class="col-sm-3 control-label">{{::'Don\'t Reset Pass'|translate}}</label>
                <div class="col-sm-7">
                    <label class="checkbox checkbox-default input-sm">
                        <input type="checkbox"  ng-model="item.config.noresetPass">
                        <i class="checkbox-icon"></i>
                    </label>
                </div>
            </div>

            <div class="form-group">
                <label class="col-sm-3 control-label">{{::'Forgot Pass Url'|translate}}</label>
                <div class="col-sm-7">
                    <input ng-model="item.config.forgotPassUrl" class="form-control input-sm" placeholder="e.g. your.app.com/forgotpass">
                </div>
            </div>

            <div class="form-group">
                <label class="col-sm-3 control-label">{{::'Email Subject'|translate}}</label>
                <div class="col-sm-7">
                    <input ng-model="item.config.emailSubject" class="form-control input-sm">
                </div>
            </div>
            
            <div class="form-group">
                <label class="col-sm-3 control-label">{{::'Email Template'|translate}}</label>
                <div class="col-sm-7">
                    <textarea ng-model="item.config.emailTemplate" class="form-control input-sm" rows="10">
                    </textarea>
                </div>
            </div>
            
            <div class="form-group">
                <label class="col-sm-3 control-label">{{::'Test Email'|translate}}</label>
                <div class="col-sm-7">
                    <button class="btn btn-default btn-sm" 
                            ng-click="testEmailTemplate(item, item.$mailers[ item.config.mailer ], item.config.emailSubject, item.config.emailTemplate, sendEmail)">
                        <i class="fa fa-fw fa-envelope"></i> {{::'Send Me Test Email'|translate}}
                    </button>
                    <button class="btn btn-default btn-sm" 
                            ng-click="testEmailTemplate(item, item.$mailers[ item.config.mailer ], item.config.emailSubject, item.config.emailTemplate)">
                        <i class="fa fa-fw fa-check-circle-o"></i> {{::'Validate Email Template'|translate}}
                    </button>
                    <div>
                        <span ng-if="item.$validErrs.subject" class="text-danger"><i class="fa fa-fw fa-exclamation-triangle"></i>{{::'Subject'|translate}} {{item.$validErrs.subject|translate}}</span>
                        <span ng-if="item.$validErrs.body" class="text-danger"><i class="fa fa-fw fa-exclamation-triangle"></i>{{::'Body'|translate}} {{item.$validErrs.body|translate}}</span>
                        <span ng-if="item.$valid===true" class="text-success"><i class="fa fa-fw fa-check"></i>{{::'Template is Valid'|translate}}</span>
                    </div>
                </div>
            </div>
        </fieldset>
    </form>
</div>